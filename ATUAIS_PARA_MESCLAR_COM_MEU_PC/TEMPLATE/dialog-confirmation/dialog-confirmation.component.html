<div class="center">
  <div *ngIf="data.title" mat-dialog-content>
    <h4>{{ data.title }}</h4>
  </div>

  <div *ngIf="data.message" mat-dialog-content>
    <p>{{ data.message }}</p>
  </div>

  <div *ngIf="data.passwordBox" class="card shadow">
    <div class="card-body">
        <form>
            <div class="mb-3">
                <h4 class="text-dark text-muted">Login</h4>
            </div>
            <mat-form-field>
                <mat-label>Usuário</mat-label>
                <input readonly="true" matInput #input name="user_name" [(ngModel)]="user_name">
            </mat-form-field>                        
            <mat-form-field>
                <mat-label>Senha atual</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" name="password" [(ngModel)]="password">
                <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Nova senha</mat-label>
                <input matInput [type]="hide1 ? 'password' : 'text'" name="newPassword" [(ngModel)]="newPassword">
                <button mat-icon-button matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide1">
                  <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Confirme a senha</mat-label>
                <input matInput [type]="hide2 ? 'password' : 'text'" name="confirmPassword" [(ngModel)]="confirmPassword">
                <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
                  <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
            <button type="button" class="btn" (click)="salvePassword()">Salvar</button>
        </form>
    </div>
  </div>
  
  <div *ngIf="data.eventBox" class="card">
    <div class="card-body">
        <form>
            <mat-form-field>
                <mat-label>Nome do evento</mat-label>
                <input [disabled]="!data.eventEdit" matInput #input name="event_name" [(ngModel)]="event_name">
            </mat-form-field> 
  
            <mat-form-field>
                <mat-label>Breve descrição</mat-label>
                <textarea [disabled]="!data.eventEdit" matInput name="event_desc" [(ngModel)]="event_desc"></textarea>
            </mat-form-field> 
  
            <mat-form-field>
                <mat-label>Apenas um dia?</mat-label>
                <mat-select [disabled]="!data.eventEdit"  name="isOneDay" [(ngModel)]="isOneDay">
                  <mat-option value="true">Sim</mat-option>
                  <mat-option value="">Não</mat-option>
                </mat-select>
            </mat-form-field>
  
            <mat-form-field *ngIf="isOneDay">
                <mat-label>Data do evento</mat-label>
                <input [disabled]="!data.eventEdit" matInput [matDatepicker]="picker" name="start_date" [(ngModel)]="start_date" [min]="minDate" [max]="maxDate">
                <mat-hint>DD/MM/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker touchUi #picker></mat-datepicker>
            </mat-form-field>
  
            <mat-form-field *ngIf="!isOneDay">
                <mat-label>Data do evento</mat-label>
                <mat-date-range-input [rangePicker]="picker" [min]="minDate" [max]="maxDate">
                    <input [disabled]="!data.eventEdit" matStartDate placeholder="Start date" name="start_date" [(ngModel)]="start_date" [min]="minDate" [max]="maxDate">
                    <input [disabled]="!data.eventEdit" matEndDate placeholder="End date" name="end_date" [(ngModel)]="end_date" [min]="minDate" [max]="maxDate">
                </mat-date-range-input>
                <mat-hint>DD/MM/YYYY – DD/MM/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker touchUi #picker></mat-date-range-picker>
            </mat-form-field>
  
            <mat-form-field>
                <mat-label>Horário inicial</mat-label>
                <input [disabled]="!data.eventEdit" matInput #input placeholder="HH:MM" name="start_time" [(ngModel)]="start_time" (input)="maskTime()" maxlength="5">
            </mat-form-field> 
  
            <mat-form-field>
                <mat-label>Horário final</mat-label>
                <input [disabled]="!data.eventEdit" matInput #input placeholder="HH:MM" name="end_time" [(ngModel)]="end_time" (input)="maskTime()" maxlength="5">
            </mat-form-field> 

            <mat-radio-group aria-label="O evento será" name="event_type" [(ngModel)]="event_type">
              <mat-radio-button color="primary" value="public">Público</mat-radio-button>
              <mat-radio-button color="primary" value="private">Privado</mat-radio-button>
            </mat-radio-group>

            <div *ngIf="data.eventEdit" mat-dialog-actions>
              <button mat-fab (click)="updateEvento()" class="save" style="color: var(--secondColor);">
                <mat-icon> save </mat-icon>
              </button>
              <button mat-fab (click)="deleteEvento()" class="no" style="color: var(--secondColor);">
                <mat-icon> delete </mat-icon>
              </button>
              <button mat-fab (click)="onConfirm(false)" class="no" style="color: var(--secondColor);">Não</button>
            </div>
        </form>
    </div>
  </div>
  
  <div *ngIf="data.confirm" mat-dialog-actions>
    <button mat-button (click)="onConfirm(true)" class="yes" style="color: var(--secondColor);">Sim</button>
    <button mat-button (click)="onConfirm(false)" class="no" style="color: var(--secondColor);">Não</button>
  </div>

  <div *ngIf="data.alert" mat-dialog-actions>
    <button mat-button (click)="onConfirm(false)" class="save" style="color: var(--secondColor);">OK</button>
  </div>
</div>